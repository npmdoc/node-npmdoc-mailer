<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/Marak/node_mailer#readme"

    >mailer (v0.6.7)</a>
</h1>
<h4>send emails from node.js to a smtp server, simple as cake</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.mailer">module mailer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mailer.send">
            function <span class="apidocSignatureSpan">mailer.</span>send
            <span class="apidocSignatureSpan">(message, callback)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mailer" id="apidoc.module.mailer">module mailer</a></h1>


    <h2>
        <a href="#apidoc.element.mailer.send" id="apidoc.element.mailer.send">
        function <span class="apidocSignatureSpan">mailer.</span>send
        <span class="apidocSignatureSpan">(message, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function node_mail(message, callback) {
  var server = {
    host: message.host,
    hostname: message.domain,
    port: + message.port,
    use_authentication: message.authentication,
    ssl: message.ssl,
    user: message.username &#x26;&#x26; message.username.toString(),
    pass: message.password &#x26;&#x26; message.password.toString(),
    debug: message.debug || false
  };
  if(message.username || message.password) {
    pool.addClient(server.port, server.host, server);
  }

  function dispatchMail(message, server, callback) {
      var _message = {
          to: message.to,
          sender: message.from,
          subject: message.subject,
          server: server,
          debug: message.debug
      };
      if(message.html)_message.html = message.html;
      pool.send(new EmailMessage(merge(message, _message)), callback);
  }

  // If a template was passed in as part of the message
  if (message.template) {
    // If the template path is in the cache
    if (_templateCache[message.template]) {
      // If the template is already fully loaded in the cahe
      if (_templateCache[message.template].loaded) {
        // Use the cached template and send the email
        message.html = mustache.to_html(_templateCache[message.template].template, message.data);
        dispatchMail(message, server, callback);
      }
      else {
        // We&#x27;ve started to load the template, but it&#x27;s not loaded yet. queue up this message to be sent later
        _templateCache[message.template].queue.push(message);
      }
    }
    else {
      // The template path wasn&#x27;t found in the cache, start to load the template
      _templateCache[message.template]          = {};
      _templateCache[message.template].loaded   = false;
      _templateCache[message.template].template = &#x27;&#x27;;
      _templateCache[message.template].queue    = [];

      fs.readFile(message.template, function(err, result){
        if (err) {
          callback(err);
          return;
        }

        _templateCache[message.template].template = result.toString();
        _templateCache[message.template].loaded   = true;

        // &#x22;Drain&#x22; the queue
        _templateCache[message.template].queue.push(message);
        _templateCache[message.template].queue.forEach(function(msg, i){
          msg.html = mustache.to_html(_templateCache[message.template].template, msg.data);
          dispatchMail(msg, server, callback);
        });

        // Clear the queue out
        _templateCache[message.template].queue = [];
      });
    }
  }
  else { // No template being used
    dispatchMail(message, server, callback);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...




var email = require(&#x22;./lib/node_mailer&#x22;);

for(var i = 0; i &#x3c; 1; i++){
email.<span class="apidocCodeKeywordSpan">send</span>({
  ssl: true,
  host : &#x22;smtp.gmail.com&#x22;,              // smtp server hostname
  port : 465,                     // smtp server port
  domain : &#x22;[127.0.0.1]&#x22;,            // domain used by client to identify itself to server
  to : &#x22;bradley.meck@gmail.com&#x22;,
  from : &#x22;bradley.meck@gmail.com&#x22;,
  subject : &#x22;node_mailer test email&#x22;,
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
